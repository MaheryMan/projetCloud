const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-DvbVGEAB.js","assets/index-DV0vJRQT.js","assets/index-DlynRudY.css"])))=>i.map(i=>d[i]);
import{_ as V,a3 as z,P as L,O as M,a4 as Y,a5 as J,a6 as X,a7 as Q,L as Z,a8 as N,a9 as ee,aa as te,ab as ne}from"./index-DV0vJRQT.js";/*! Capacitor: https://capacitorjs.com/ - MIT License */var E;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(E||(E={}));class S extends Error{constructor(e,n,a){super(e),this.message=e,this.code=n,this.data=a}}const se=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},re=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},a=n.Plugins=n.Plugins||{},r=()=>e!==null?e.name:se(t),s=()=>r()!=="web",o=i=>{const c=w.get(i);return!!(c!=null&&c.platforms.has(r())||l(i))},l=i=>{var c;return(c=n.PluginHeaders)===null||c===void 0?void 0:c.find(O=>O.name===i)},d=i=>t.console.error(i),w=new Map,P=(i,c={})=>{const O=w.get(i);if(O)return console.warn('Capacitor plugin "'.concat(i,'" already registered. Cannot register plugins twice.')),O.proxy;const p=r(),v=l(i);let b;const I=async()=>(!b&&p in c?b=typeof c[p]=="function"?b=await c[p]():b=c[p]:e!==null&&!b&&"web"in c&&(b=typeof c.web=="function"?b=await c.web():b=c.web),b),q=(u,f)=>{var g,m;if(v){const y=v==null?void 0:v.methods.find(h=>f===h.name);if(y)return y.rtype==="promise"?h=>n.nativePromise(i,f.toString(),h):(h,C)=>n.nativeCallback(i,f.toString(),h,C);if(u)return(g=u[f])===null||g===void 0?void 0:g.bind(u)}else{if(u)return(m=u[f])===null||m===void 0?void 0:m.bind(u);throw new S('"'.concat(i,'" plugin is not implemented on ').concat(p),E.Unimplemented)}},U=u=>{let f;const g=(...m)=>{const y=I().then(h=>{const C=q(h,u);if(C){const A=C(...m);return f=A==null?void 0:A.remove,A}else throw new S('"'.concat(i,".").concat(u,'()" is not implemented on ').concat(p),E.Unimplemented)});return u==="addListener"&&(y.remove=async()=>f()),y};return g.toString=()=>"".concat(u.toString(),"() { [capacitor code] }"),Object.defineProperty(g,"name",{value:u,writable:!1,configurable:!1}),g},T=U("addListener"),$=U("removeListener"),K=(u,f)=>{const g=T({eventName:u},f),m=async()=>{const h=await g;$({eventName:u,callbackId:h},f)},y=new Promise(h=>g.then(()=>h({remove:m})));return y.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await m()},y},_=new Proxy({},{get(u,f){switch(f){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?K:T;case"removeListener":return $;default:return U(f)}}});return a[i]=_,w.set(i,{name:i,proxy:_,platforms:new Set([...Object.keys(c),...v?[p]:[]])}),_};return n.convertFileSrc||(n.convertFileSrc=i=>i),n.getPlatform=r,n.handleError=d,n.isNativePlatform=s,n.isPluginAvailable=o,n.registerPlugin=P,n.Exception=S,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},ae=t=>t.Capacitor=re(t),k=ae(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),x=k.registerPlugin;class R{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let a=!1;this.listeners[e]||(this.listeners[e]=[],a=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),a&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,a){const r=this.listeners[e];if(!r){if(a){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}r.forEach(s=>s(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:a=>{this.notifyListeners(n,a)}}}unimplemented(e="not implemented"){return new k.Exception(e,E.Unimplemented)}unavailable(e="not available"){return new k.Exception(e,E.Unavailable)}async removeListener(e,n){const a=this.listeners[e];if(!a)return;const r=a.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(a=>{this.notifyListeners(e,a)}))}}const j=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),D=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class oe extends R{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(a=>{if(a.length<=0)return;let[r,s]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=D(r).trim(),s=D(s).trim(),n[r]=s}),n}async setCookie(e){try{const n=j(e.key),a=j(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(n,"=").concat(a||"").concat(r,"; path=").concat(s,"; ").concat(o,";")}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date().toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}x("CapacitorCookies",{web:()=>new oe});const ie=async t=>new Promise((e,n)=>{const a=new FileReader;a.onload=()=>{const r=a.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},a.onerror=r=>n(r),a.readAsDataURL(t)}),ce=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,s,o)=>(r[s]=t[e[o]],r),{})},le=(t,e=!0)=>t?Object.entries(t).reduce((a,r)=>{const[s,o]=r;let l,d;return Array.isArray(o)?(d="",o.forEach(w=>{l=e?encodeURIComponent(w):w,d+="".concat(s,"=").concat(l,"&")}),d.slice(0,-1)):(l=e?encodeURIComponent(o):o,d="".concat(s,"=").concat(l)),"".concat(a,"&").concat(d)},"").substr(1):null,ue=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=ce(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))s.set(o,l);n.body=s.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((l,d)=>{s.append(d,l)});else for(const l of Object.keys(t.data))s.append(l,t.data[l]);n.body=s;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class de extends R{async request(e){const n=ue(e,e.webFetchExtra),a=le(e.params,e.shouldEncodeUrlParams),r=a?"".concat(e.url,"?").concat(a):e.url,s=await fetch(r,n),o=s.headers.get("content-type")||"";let{responseType:l="text"}=s.ok?e:{};o.includes("application/json")&&(l="json");let d,w;switch(l){case"arraybuffer":case"blob":w=await s.blob(),d=await ie(w);break;case"json":d=await s.json();break;case"document":case"text":default:d=await s.text()}const P={};return s.headers.forEach((i,c)=>{P[c]=i}),{data:d,headers:P,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}x("CapacitorHttp",{web:()=>new de});var W;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(W||(W={}));var B;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(B||(B={}));class fe extends R{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}x("SystemBars",{web:()=>new fe});var F;(function(t){t.IndexedDbLocal="INDEXED_DB_LOCAL",t.InMemory="IN_MEMORY",t.BrowserLocal="BROWSER_LOCAL",t.BrowserSession="BROWSER_SESSION"})(F||(F={}));var G;(function(t){t.APPLE="apple.com",t.FACEBOOK="facebook.com",t.GAME_CENTER="gc.apple.com",t.GITHUB="github.com",t.GOOGLE="google.com",t.MICROSOFT="microsoft.com",t.PLAY_GAMES="playgames.google.com",t.TWITTER="twitter.com",t.YAHOO="yahoo.com",t.PASSWORD="password",t.PHONE="phone"})(G||(G={}));const he=x("FirebaseAuthentication",{web:()=>V(()=>import("./web-DvbVGEAB.js"),__vite__mapDeps([0,1,2])).then(t=>new t.FirebaseAuthenticationWeb)});async function H(t){const e=Q(Z,"users",t.uid);(await N(e)).exists()||(await ee(e,{uid:t.uid,email:t.email,name:t.displayName,photoURL:t.photoURL,provider:"google",role:"driver",createdAt:te()}),console.log("ðŸ”¥ Firestore user crÃ©Ã© (Google)"))}async function be(t,e){return(await Y(L,t,e)).user}async function ge(t=1e4){const e=L.currentUser;return e||await new Promise((n,a)=>{const r=setTimeout(()=>{s(),a(new Error("Google sign-in timeout"))},t),s=M(L,o=>{o&&(clearTimeout(r),s(),n(o))})})}async function me(){if(k.isNativePlatform()){await he.signInWithGoogle();const n=await ge();return await H(n),n}const t=new J,e=await X(L,t);return await H(e.user),e.user}async function ye(){return null}async function pe(){await z(L)}function ve(t){return M(L,t)}function Le(){return{showToast:async(e,n="primary",a=2500)=>{await(await ne.create({message:e,color:n,duration:a,position:"top"})).present()}}}const Ee=(t,e)=>{const n=t.__vccOpts||t;for(const[a,r]of e)n[a]=r;return n};export{G as P,R as W,Ee as _,me as a,pe as b,F as c,ye as h,be as l,ve as o,x as r,Le as u};
